# 前端性能其实是网速相关的
说说前端的性能问题吧。有不少同学对前端性能很在意，事实上，我猜想可能和服务端关注性能有关系。服务端因为一台服务器要服务多个客户端，存在并发的问题，IO很可能成为一个瓶颈，比如数据库、读写文件，另外，量起来了，语言的快慢也会开始出现瓶颈。

在我看来，前端重视性能，很可能在一定意义上受了服务端工程师的影响。但其实前端第一不存在并发问题，不存在横向扩展和纵向扩展问题，第二不存在大数据问题，前端对性能的需求其实并不是那么重要。把精力花在这上面，事实上并没有明显的价值。

以我的工作经验来看，pc端性能基本可以完全无视，而移动端性能确实要接受很大的挑战，但这个挑战其实是webview层面的，不是前端工程师们可以解决的，当然一些小技巧还是有的，比如transform启动硬件加速，但最最核心最最重要的部分却完全无能为力，只能等移动os发发力，而我一等就是等了5年，从10年喊出web app以来，我一直等到今天，仍然对webview的性能表示无语。也就是说，要么性能你完全遇不到问题，要么你基本无能为力。

一个领域除外——游戏。无论选用dom、canvas2d还是webgl，无论是pc还是移动，游戏开发都会对性能格外有要求，我只有在开发游戏时，在pc上遇到过性能问题。而移动端的性能更是把我虐怕了，游戏选型都不敢放开。只有在开发游戏时，我对性能才不敢掉以轻心，也真的需要一些性能方面的技巧，以立竿见影，比如减少对象的创建与销毁改用资源池，比如使用事件代理，比如减少canvas遍历所有sprite，将一部分图片缓存到一个看不到的canvas节点上。。。但现实情况是，游戏开发在前端的应用领域里是极小众的，绝大多数人接触不到这些。

那么我们常说的前端性能，真实特别有意义的是什么？其实是网速相关的，比如减少http请求数，css sprite、web font图标、图片压缩、js和css压缩、合并、gzip、cdn、离线缓存什么的，这个方向的性能优化是有必要有价值的。而类服务端那样，在语言、框架层面的性能优化，甚至包括dom操作层面的性能优化，绝大多数应用场景下，都是没有什么意义的，如果因为做这种基本上看不出来效果的性能优化而在代码的可维护性上做了妥协，就更傻了。
